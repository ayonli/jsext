{"version":3,"file":"util.js","sources":["../util.ts"],"sourcesContent":["export function isFunction(val) {\n    return typeof val === \"function\";\n}\nexport function isPath(id) {\n    return /^(\\.[\\/\\\\]|\\.\\.[\\/\\\\]|[a-zA-Z]:|\\/)/.test(id);\n}\nexport function unrefTimer(timer) {\n    if (typeof timer === \"object\" && typeof timer.unref === \"function\") {\n        timer.unref();\n    }\n    else if (typeof Deno === \"object\" && typeof Deno.unrefTimer === \"function\") {\n        Deno.unrefTimer(timer);\n    }\n}\n/**\n * If the input source is an iterable object, returns the iterable object.\n *\n * If the input source is a readable stream, returns an iterable object that\n * reads the stream.\n *\n * Otherwise, returns `null`.\n */\nexport function asIterable(source) {\n    if (isFunction(source[Symbol.asyncIterator])) {\n        return source;\n    }\n    else if (typeof ReadableStream === \"function\"\n        && source instanceof ReadableStream) {\n        const reader = source.getReader();\n        return {\n            [Symbol.asyncIterator]: async function* () {\n                try {\n                    while (true) {\n                        const { done, value } = await reader.read();\n                        if (done) {\n                            break;\n                        }\n                        yield value;\n                    }\n                }\n                finally {\n                    reader.releaseLock();\n                }\n            },\n        };\n    }\n    return null;\n}\n//# sourceMappingURL=util.js.map"],"names":[],"mappings":"AAAO,SAAS,UAAU,CAAC,GAAG,EAAE;AAChC,IAAI,OAAO,OAAO,GAAG,KAAK,UAAU,CAAC;AACrC,CAAC;AACM,SAAS,MAAM,CAAC,EAAE,EAAE;AAC3B,IAAI,OAAO,qCAAqC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AAC1D,CAAC;AACM,SAAS,UAAU,CAAC,KAAK,EAAE;AAClC,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,OAAO,KAAK,CAAC,KAAK,KAAK,UAAU,EAAE;AACxE,QAAQ,KAAK,CAAC,KAAK,EAAE,CAAC;AACtB,KAAK;AACL,SAAS,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,OAAO,IAAI,CAAC,UAAU,KAAK,UAAU,EAAE;AAChF,QAAQ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAC/B,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,UAAU,CAAC,MAAM,EAAE;AACnC,IAAI,IAAI,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,EAAE;AAClD,QAAQ,OAAO,MAAM,CAAC;AACtB,KAAK;AACL,SAAS,IAAI,OAAO,cAAc,KAAK,UAAU;AACjD,WAAW,MAAM,YAAY,cAAc,EAAE;AAC7C,QAAQ,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;AAC1C,QAAQ,OAAO;AACf,YAAY,CAAC,MAAM,CAAC,aAAa,GAAG,mBAAmB;AACvD,gBAAgB,IAAI;AACpB,oBAAoB,OAAO,IAAI,EAAE;AACjC,wBAAwB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC;AACpE,wBAAwB,IAAI,IAAI,EAAE;AAClC,4BAA4B,MAAM;AAClC,yBAAyB;AACzB,wBAAwB,MAAM,KAAK,CAAC;AACpC,qBAAqB;AACrB,iBAAiB;AACjB,wBAAwB;AACxB,oBAAoB,MAAM,CAAC,WAAW,EAAE,CAAC;AACzC,iBAAiB;AACjB,aAAa;AACb,SAAS,CAAC;AACV,KAAK;AACL,IAAI,OAAO,IAAI,CAAC;AAChB;;;;"}
{"version":3,"file":"index.js","sources":["../../../dialog/terminal/index.ts"],"sourcesContent":["import { hijackNodeStdin, isNodeRepl } from \"./util.ts\";\nimport question from \"./question.ts\";\nexport async function questionInDeno(message, options = {}) {\n    const { stdin, stdout } = Deno;\n    if (!stdin.isTerminal()) {\n        return null;\n    }\n    stdin.setRaw(true);\n    try {\n        return await question(message, { stdin, stdout, ...options });\n    }\n    finally {\n        stdin.setRaw(false);\n    }\n}\nexport async function questionInNode(message, options = {}) {\n    const { stdin, stdout } = process;\n    if (!stdout.isTTY) {\n        return null;\n    }\n    if (stdin.isPaused()) {\n        stdin.resume();\n    }\n    const rawMode = stdin.isRaw;\n    rawMode || stdin.setRawMode(true);\n    try {\n        return await question(message, { stdin, stdout, ...options });\n    }\n    finally {\n        stdin.setRawMode(rawMode);\n        if (!(await isNodeRepl())) {\n            stdin.pause();\n        }\n    }\n}\nexport async function questionInNodeRepl(message, options = {}) {\n    return await hijackNodeStdin(process.stdin, async () => {\n        return await questionInNode(message, options);\n    });\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":";;;AAEO,eAAe,cAAc,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE;AAC5D,IAAI,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC;AACnC,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE;AAC7B,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACvB,IAAI,IAAI;AACR,QAAQ,OAAO,MAAM,QAAQ,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;AACtE,KAAK;AACL,YAAY;AACZ,QAAQ,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC5B,KAAK;AACL,CAAC;AACM,eAAe,cAAc,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE;AAC5D,IAAI,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC;AACtC,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AACvB,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK;AACL,IAAI,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE;AAC1B,QAAQ,KAAK,CAAC,MAAM,EAAE,CAAC;AACvB,KAAK;AACL,IAAI,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC;AAChC,IAAI,OAAO,IAAI,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACtC,IAAI,IAAI;AACR,QAAQ,OAAO,MAAM,QAAQ,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;AACtE,KAAK;AACL,YAAY;AACZ,QAAQ,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAClC,QAAQ,IAAI,EAAE,MAAM,UAAU,EAAE,CAAC,EAAE;AACnC,YAAY,KAAK,CAAC,KAAK,EAAE,CAAC;AAC1B,SAAS;AACT,KAAK;AACL,CAAC;AACM,eAAe,kBAAkB,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE;AAChE,IAAI,OAAO,MAAM,eAAe,CAAC,OAAO,CAAC,KAAK,EAAE,YAAY;AAC5D,QAAQ,OAAO,MAAM,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AACtD,KAAK,CAAC,CAAC;AACP;;;;"}
{"version":3,"file":"file.js","sources":["../../dialog/file.ts"],"sourcesContent":["import { basename, join } from \"../path.ts\";\nimport { isBrowserWindow, isDeno, isNodeLike } from \"../env.ts\";\nimport { platform } from \"../runtime.ts\";\nimport { isWSL, which } from \"../cli.ts\";\nimport { readAsObjectURL, toAsyncIterable } from \"../reader.ts\";\nimport { readFile } from \"./terminal/util.ts\";\nimport { macPickFolder, macPickFiles, macPickFile, } from \"./terminal/file/mac.ts\";\nimport { linuxPickFolder, linuxPickFiles, linuxPickFile, } from \"./terminal/file/linux.ts\";\nimport { windowsPickFolder, windowsPickFiles, windowsPickFile, } from \"./terminal/file/windows.ts\";\nimport { browserPickFolder, browserPickFile, browserPickFiles, } from \"./terminal/file/browser.ts\";\nimport { writeFile } from \"../fs.ts\";\nimport { as } from \"../object.ts\";\n/**\n * Open the file picker dialog and pick a file, this function returns the file's\n * path or a `FileSystemFileHandle` in the browser.\n *\n * NOTE: Browser support is limited to the chromium family.\n */\nexport async function pickFile(options = {}) {\n    const _platform = platform();\n    // @ts-ignore for history compatibility\n    if (options[\"save\"]) {\n        options.forSave = true;\n    }\n    if (typeof globalThis[\"showOpenFilePicker\"] === \"function\") {\n        return await browserPickFile(options.type, {\n            forSave: options.forSave,\n            defaultName: options.defaultName,\n        });\n    }\n    else if (_platform === \"darwin\") {\n        return await macPickFile(options.title, {\n            type: options.type,\n            forSave: options === null || options === void 0 ? void 0 : options.forSave,\n            defaultName: options === null || options === void 0 ? void 0 : options.defaultName,\n        });\n    }\n    else if (_platform === \"windows\" || isWSL()) {\n        return await windowsPickFile(options.title, {\n            type: options.type,\n            forSave: options === null || options === void 0 ? void 0 : options.forSave,\n            defaultName: options === null || options === void 0 ? void 0 : options.defaultName,\n        });\n    }\n    else if (_platform === \"linux\" || await which(\"zenity\")) {\n        return await linuxPickFile(options.title, {\n            type: options.type,\n            forSave: options === null || options === void 0 ? void 0 : options.forSave,\n            defaultName: options === null || options === void 0 ? void 0 : options.defaultName,\n        });\n    }\n    throw new Error(\"Unsupported platform\");\n}\n/**\n * Open the file picker dialog and pick multiple files, this function returns the\n * paths or `FileSystemFileHandle` objects in the browser of the files selected.\n *\n * NOTE: Browser support is limited to the chromium family.\n */\nexport async function pickFiles(options = {}) {\n    const _platform = platform();\n    if (typeof globalThis[\"showOpenFilePicker\"] === \"function\") {\n        return await browserPickFiles(options.type);\n    }\n    else if (_platform === \"darwin\") {\n        return await macPickFiles(options.title, options.type);\n    }\n    else if (_platform === \"windows\" || isWSL()) {\n        return await windowsPickFiles(options.title, options.type);\n    }\n    else if (_platform === \"linux\" || await which(\"zenity\")) {\n        return await linuxPickFiles(options.title, options.type);\n    }\n    throw new Error(\"Unsupported platform\");\n}\n/**\n * Open the file picker dialog and pick a directory, this function returns the\n * directory's path or `FileSystemDirectoryHandle` in the browser.\n *\n * NOTE: Browser support is limited to the chromium family.\n */\nexport async function pickDirectory(options = {}) {\n    const _platform = platform();\n    if (typeof globalThis[\"showDirectoryPicker\"] === \"function\") {\n        return await browserPickFolder();\n    }\n    else if (_platform === \"darwin\") {\n        return await macPickFolder(options.title);\n    }\n    else if (_platform === \"windows\" || isWSL()) {\n        return await windowsPickFolder(options.title);\n    }\n    else if (_platform === \"linux\" || await which(\"zenity\")) {\n        return await linuxPickFolder(options.title);\n    }\n    throw new Error(\"Unsupported platform\");\n}\nexport async function openFile(options = {}) {\n    const { title = \"\", type = \"\", multiple = false, directory = false } = options;\n    if (directory && typeof globalThis[\"showDirectoryPicker\"] === \"function\") {\n        const files = [];\n        const dir = await browserPickFolder();\n        if (!dir) {\n            return files;\n        }\n        await (async function walk(dir, base = \"\") {\n            const entries = dir.entries();\n            for await (const [_, entry] of entries) {\n                const path = join(base, entry.name);\n                if (entry.kind === \"file\") {\n                    const file = await entry.getFile();\n                    Object.defineProperty(file, \"webkitRelativePath\", {\n                        configurable: true,\n                        enumerable: true,\n                        writable: false,\n                        value: path !== null && path !== void 0 ? path : \"\",\n                    });\n                    files.push(file);\n                }\n                else {\n                    await walk(entry, path);\n                }\n            }\n        })(dir);\n        return files;\n    }\n    else if (typeof globalThis[\"showOpenFilePicker\"] === \"function\") {\n        if (multiple) {\n            const handles = await browserPickFiles(type);\n            const files = [];\n            for (const handle of handles) {\n                const file = await handle.getFile();\n                files.push(file);\n            }\n            return files;\n        }\n        else {\n            const handle = await browserPickFile(type);\n            return handle ? await handle.getFile() : null;\n        }\n    }\n    else if (isBrowserWindow) {\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        input.accept = type !== null && type !== void 0 ? type : \"\";\n        input.multiple = multiple !== null && multiple !== void 0 ? multiple : false;\n        input.webkitdirectory = directory !== null && directory !== void 0 ? directory : false;\n        return await new Promise(resolve => {\n            input.onchange = () => {\n                var _a;\n                const files = input.files;\n                if (directory || multiple) {\n                    resolve(files ? [...files] : []);\n                }\n                else {\n                    resolve(files ? ((_a = files[0]) !== null && _a !== void 0 ? _a : null) : null);\n                }\n            };\n            input.oncancel = () => {\n                if (directory || multiple) {\n                    resolve([]);\n                }\n                else {\n                    resolve(null);\n                }\n            };\n            input.click();\n        });\n    }\n    else if (isDeno || isNodeLike) {\n        let filename;\n        let filenames;\n        let dirname;\n        if (directory) {\n            dirname = await pickDirectory({ title });\n        }\n        else if (multiple) {\n            filenames = await pickFiles({ title, type });\n        }\n        else {\n            filename = await pickFile({ title, type });\n        }\n        if (dirname) {\n            const folder = basename(dirname);\n            const files = [];\n            if (typeof Deno === \"object\") {\n                await (async function walk(dirname, relativePath = \"\") {\n                    for await (const entry of Deno.readDir(dirname)) {\n                        if (entry.isFile) {\n                            files.push({\n                                path: join(dirname, entry.name),\n                                relativePath: relativePath + \"/\" + entry.name,\n                            });\n                        }\n                        else if (entry.isDirectory) {\n                            await walk(join(dirname, entry.name), relativePath + \"/\" + entry.name);\n                        }\n                        else if (entry.isSymlink) {\n                            const symlink = await Deno.readLink(join(dirname, entry.name));\n                            await walk(symlink, relativePath + \"/\" + entry.name);\n                        }\n                    }\n                })(dirname, folder);\n            }\n            else {\n                const { readdir, readlink } = await import(\"fs/promises\");\n                await (async function walk(dirname, relativePath = \"\") {\n                    const entries = await readdir(dirname, { withFileTypes: true });\n                    for (const entry of entries) {\n                        if (entry.isFile()) {\n                            files.push({\n                                path: join(dirname, entry.name),\n                                relativePath: relativePath + \"/\" + entry.name,\n                            });\n                        }\n                        else if (entry.isDirectory()) {\n                            await walk(join(dirname, entry.name), relativePath + \"/\" + entry.name);\n                        }\n                        else if (entry.isSymbolicLink()) {\n                            const symlink = await readlink(join(dirname, entry.name));\n                            await walk(symlink, relativePath + \"/\" + entry.name);\n                        }\n                    }\n                })(dirname, folder);\n            }\n            return await Promise.all(files.map(({ path, relativePath }) => {\n                return readFile(path, relativePath);\n            }));\n        }\n        else if (filenames) {\n            return await Promise.all(filenames.map(path => readFile(path)));\n        }\n        else if (filename) {\n            return await readFile(filename);\n        }\n        else if (directory || multiple) {\n            return [];\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        throw new Error(\"Unsupported runtime\");\n    }\n}\nexport async function saveFile(file, options = {}) {\n    var _a;\n    if (typeof globalThis[\"showSaveFilePicker\"] === \"function\") {\n        const handle = await browserPickFile(options.type, {\n            forSave: true,\n            defaultName: options.name || ((_a = as(file, Blob)) === null || _a === void 0 ? void 0 : _a.name),\n        });\n        if (handle) {\n            await writeFile(handle, file);\n        }\n    }\n    else if (isBrowserWindow) {\n        const a = document.createElement(\"a\");\n        if (file instanceof ReadableStream) {\n            const type = options.type || \"application/octet-stream\";\n            a.href = await readAsObjectURL(file, type);\n            a.download = options.name || \"Unnamed\";\n        }\n        else if (file instanceof File) {\n            a.href = URL.createObjectURL(file);\n            a.download = options.name || file.name || \"Unnamed\";\n        }\n        else if (file instanceof Blob) {\n            a.href = URL.createObjectURL(file);\n            a.download = options.name || \"Unnamed\";\n        }\n        else {\n            const type = options.type || \"application/octet-stream\";\n            const blob = new Blob([file], { type });\n            a.href = URL.createObjectURL(blob);\n            a.download = options.name || \"Unnamed\";\n        }\n        a.click();\n    }\n    else if (isDeno || isNodeLike) {\n        const { title } = options;\n        let stream;\n        let filename;\n        if (typeof ReadableStream === \"function\" && file instanceof ReadableStream) {\n            stream = file;\n            filename = await pickFile({\n                title,\n                type: options.type,\n                forSave: true,\n                defaultName: options.name,\n            });\n        }\n        else if (typeof File === \"function\" && file instanceof File) {\n            stream = file.stream();\n            filename = await pickFile({\n                title,\n                type: file.type,\n                forSave: true,\n                defaultName: options.name || file.name,\n            });\n        }\n        else if (typeof Blob === \"function\" && file instanceof Blob) {\n            stream = file.stream();\n            filename = await pickFile({\n                title,\n                type: options.type || file.type,\n                forSave: true,\n                defaultName: options.name,\n            });\n        }\n        else {\n            const type = options.type || \"application/octet-stream\";\n            const blob = new Blob([file], { type });\n            stream = blob.stream();\n            filename = await pickFile({\n                title,\n                type: options.type,\n                forSave: true,\n                defaultName: options.name,\n            });\n        }\n        if (filename) {\n            if (typeof Deno === \"object\") {\n                await Deno.writeFile(filename, stream, { create: true });\n            }\n            else {\n                const { createWriteStream } = await import(\"fs\");\n                const out = createWriteStream(filename, { flags: \"w\" });\n                for await (const chunk of toAsyncIterable(stream)) {\n                    out.write(chunk);\n                }\n                out.close();\n            }\n        }\n    }\n    else {\n        throw new Error(\"Unsupported runtime\");\n    }\n}\n//# sourceMappingURL=file.js.map"],"names":[],"mappings":"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"}
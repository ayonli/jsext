{"version":3,"file":"dialog.js","sources":["../dialog.ts"],"sourcesContent":["/**\n * Asynchronous dialog functions for both browsers and terminals.\n *\n * This includes `alert`, `confirm`, `prompt` and other non-standard dialogs.\n * @experimental\n * @module\n */\nimport progress from \"./dialog/progress.ts\";\nimport { alertInBrowser, confirmInBrowser, promptInBrowser } from \"./dialog/browser/index.ts\";\nimport { questionInDeno, questionInNode, questionInNodeRepl } from \"./dialog/terminal/index.ts\";\nimport { isNodeRepl } from \"./dialog/terminal/util.ts\";\nexport { progress };\n/**\n * Displays a dialog with a message, and to wait until the user dismisses the\n * dialog.\n */\nexport async function alert(message) {\n    if (typeof document === \"object\") {\n        await alertInBrowser(message);\n    }\n    else if (typeof Deno === \"object\") {\n        await questionInDeno(message + \" [Enter] \");\n    }\n    else if (await isNodeRepl()) {\n        await questionInNodeRepl(message + \" [Enter] \");\n    }\n    else {\n        await questionInNodeRepl(message + \" [Enter] \");\n    }\n}\n/**\n * Displays a dialog with a message, and to wait until the user either confirms\n * or cancels the dialog.\n */\nexport async function confirm(message) {\n    if (typeof document === \"object\") {\n        return await confirmInBrowser(message);\n    }\n    else {\n        let answer;\n        if (typeof Deno === \"object\") {\n            answer = await questionInDeno(message + \" [Y/n] \");\n        }\n        else if (await isNodeRepl()) {\n            answer = await questionInNodeRepl(message + \" [Y/n] \");\n        }\n        else {\n            answer = await questionInNode(message + \" [Y/n] \");\n        }\n        const ok = answer === null || answer === void 0 ? void 0 : answer.toLowerCase().trim();\n        return ok === \"\" || ok === \"y\" || ok === \"yes\";\n    }\n}\nexport async function prompt(message, options = \"\") {\n    var _a, _b;\n    const defaultValue = typeof options === \"string\"\n        ? options\n        : options.defaultValue;\n    const type = typeof options === \"object\"\n        ? (_a = options.type) !== null && _a !== void 0 ? _a : \"text\"\n        : \"text\";\n    const mask = type === \"password\"\n        ? typeof options === \"object\" ? ((_b = options.mask) !== null && _b !== void 0 ? _b : \"*\") : \"*\"\n        : undefined;\n    if (typeof document === \"object\") {\n        return await promptInBrowser(message, { type, defaultValue });\n    }\n    else if (typeof Deno === \"object\") {\n        return await questionInDeno(message + \" \", { defaultValue, mask });\n    }\n    else if (await isNodeRepl()) {\n        return await questionInNodeRepl(message + \" \", { defaultValue, mask });\n    }\n    else {\n        return await questionInNode(message + \" \", { defaultValue, mask });\n    }\n}\n//# sourceMappingURL=dialog.js.map"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACO,eAAe,KAAK,CAAC,OAAO,EAAE;AACrC,IAAI,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACtC,QAAQ,MAAM,cAAc,CAAC,OAAO,CAAC,CAAC;AACtC,KAAK;AACL,SAAS,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACvC,QAAQ,MAAM,cAAc,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC;AACpD,KAAK;AACL,SAAS,IAAI,MAAM,UAAU,EAAE,EAAE;AACjC,QAAQ,MAAM,kBAAkB,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC;AACxD,KAAK;AACL,SAAS;AACT,QAAQ,MAAM,kBAAkB,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC;AACxD,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACO,eAAe,OAAO,CAAC,OAAO,EAAE;AACvC,IAAI,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACtC,QAAQ,OAAO,MAAM,gBAAgB,CAAC,OAAO,CAAC,CAAC;AAC/C,KAAK;AACL,SAAS;AACT,QAAQ,IAAI,MAAM,CAAC;AACnB,QAAQ,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACtC,YAAY,MAAM,GAAG,MAAM,cAAc,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;AAC/D,SAAS;AACT,aAAa,IAAI,MAAM,UAAU,EAAE,EAAE;AACrC,YAAY,MAAM,GAAG,MAAM,kBAAkB,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;AACnE,SAAS;AACT,aAAa;AACb,YAAY,MAAM,GAAG,MAAM,cAAc,CAAC,OAAO,GAAG,SAAS,CAAC,CAAC;AAC/D,SAAS;AACT,QAAQ,MAAM,EAAE,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC;AAC/F,QAAQ,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,KAAK,CAAC;AACvD,KAAK;AACL,CAAC;AACM,eAAe,MAAM,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE;AACpD,IAAI,IAAI,EAAE,EAAE,EAAE,CAAC;AACf,IAAI,MAAM,YAAY,GAAG,OAAO,OAAO,KAAK,QAAQ;AACpD,UAAU,OAAO;AACjB,UAAU,OAAO,CAAC,YAAY,CAAC;AAC/B,IAAI,MAAM,IAAI,GAAG,OAAO,OAAO,KAAK,QAAQ;AAC5C,UAAU,CAAC,EAAE,GAAG,OAAO,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,MAAM;AACrE,UAAU,MAAM,CAAC;AACjB,IAAI,MAAM,IAAI,GAAG,IAAI,KAAK,UAAU;AACpC,UAAU,OAAO,OAAO,KAAK,QAAQ,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,GAAG,IAAI,GAAG;AACxG,UAAU,SAAS,CAAC;AACpB,IAAI,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;AACtC,QAAQ,OAAO,MAAM,eAAe,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;AACtE,KAAK;AACL,SAAS,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;AACvC,QAAQ,OAAO,MAAM,cAAc,CAAC,OAAO,GAAG,GAAG,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3E,KAAK;AACL,SAAS,IAAI,MAAM,UAAU,EAAE,EAAE;AACjC,QAAQ,OAAO,MAAM,kBAAkB,CAAC,OAAO,GAAG,GAAG,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;AAC/E,KAAK;AACL,SAAS;AACT,QAAQ,OAAO,MAAM,cAAc,CAAC,OAAO,GAAG,GAAG,EAAE,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3E,KAAK;AACL;;;;"}
{"version":3,"file":"dialog.js","sources":["../dialog.ts"],"sourcesContent":["/**\n * Asynchronous dialog functions for both browsers and terminals.\n *\n * This includes `alert`, `confirm`, `prompt` and other non-standard dialogs.\n * @experimental\n * @module\n */\nimport { isBrowserWindow, isDeno, isNodeLike } from \"./env.ts\";\nimport { throwUnsupportedRuntimeError } from \"./error.ts\";\nimport progress from \"./dialog/progress.ts\";\nexport { progress };\nexport * from \"./dialog/progress.ts\";\nexport * from \"./dialog/file.ts\";\n/**\n * Displays a dialog with a message, and to wait until the user dismisses the\n * dialog.\n *\n * @example\n * ```ts\n * import { alert } from \"@ayonli/jsext/dialog\";\n *\n * await alert(\"Hello, world!\");\n * ```\n */\nexport async function alert(message, options = {}) {\n    if (isBrowserWindow) {\n        const { alert } = await import(\"./dialog/web.ts\");\n        await alert(message, options);\n    }\n    else if (isDeno || isNodeLike) {\n        const { default: alert } = await import(\"./dialog/cli/alert.ts\");\n        await alert(message, options);\n    }\n    else {\n        throwUnsupportedRuntimeError();\n    }\n}\n/**\n * Displays a dialog with a message, and to wait until the user either confirms\n * or cancels the dialog.\n *\n * @example\n * ```ts\n * import { confirm } from \"@ayonli/jsext/dialog\";\n *\n * if (await confirm(\"Are you sure?\")) {\n *     console.log(\"Confirmed\");\n * } else {\n *     console.log(\"Canceled\");\n * }\n * ```\n */\nexport async function confirm(message, options = {}) {\n    if (isBrowserWindow) {\n        const { confirm } = await import(\"./dialog/web.ts\");\n        return await confirm(message, options);\n    }\n    else if (isDeno || isNodeLike) {\n        const { default: confirm } = await import(\"./dialog/cli/confirm.ts\");\n        return await confirm(message, options);\n    }\n    else {\n        throwUnsupportedRuntimeError();\n    }\n}\nexport async function prompt(message, options = \"\") {\n    var _a, _b, _c;\n    const defaultValue = typeof options === \"string\"\n        ? options\n        : options.defaultValue;\n    const type = typeof options === \"object\"\n        ? (_a = options.type) !== null && _a !== void 0 ? _a : \"text\"\n        : \"text\";\n    const mask = type === \"password\"\n        ? typeof options === \"object\" ? ((_b = options.mask) !== null && _b !== void 0 ? _b : \"*\") : \"*\"\n        : undefined;\n    const gui = typeof options === \"object\" ? ((_c = options.gui) !== null && _c !== void 0 ? _c : false) : false;\n    const timeout = typeof options === \"object\" ? options.timeout : undefined;\n    if (isBrowserWindow) {\n        const { prompt } = await import(\"./dialog/web.ts\");\n        return await prompt(message, { defaultValue, type, timeout });\n    }\n    else if (isDeno || isNodeLike) {\n        const { default: prompt } = await import(\"./dialog/cli/prompt.ts\");\n        return await prompt(message, { defaultValue, type, mask, gui, timeout });\n    }\n    else {\n        throwUnsupportedRuntimeError();\n    }\n}\n//# sourceMappingURL=dialog.js.map"],"names":[],"mappings":"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"}
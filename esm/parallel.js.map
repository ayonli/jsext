{"version":3,"file":"parallel.js","sources":["../parallel.ts"],"sourcesContent":["import { ThenableAsyncGenerator } from \"./external/thenable-generator/index.ts\";\nimport chan, { Channel } from \"./chan.ts\";\nimport { sequence } from \"./number/index.ts\";\nimport { trim } from \"./string/index.ts\";\nimport { fromObject } from \"./error/index.ts\";\nimport { isNode, isDeno, isBun, isBeforeNode14, resolveModule, isChannelMessage, handleChannelMessage, wrapChannel } from \"./util.ts\";\n/**\n * The `[terminate]()` function of the threaded module should only be used for\n * testing purposes. When using `child_process` adapter, the program will not be able exit\n * automatically after the test because there is an active IPC channel between the parent and\n * the child process. Calling the terminate function will force to kill the child process and\n * allow the program to exit.\n */\nexport const terminate = Symbol.for(\"terminate\");\nconst shouldTransfer = Symbol.for(\"shouldTransfer\");\nconst IsPath = /^(\\.[\\/\\\\]|\\.\\.[\\/\\\\]|[a-zA-Z]:|\\/)/;\n// In Node.js, `process.argv` contains `--worker-thread` when the current thread is used as\n// a worker. In Bun, this option only presents when using `child_process` adapter.\nconst isWorkerThread = (isNode || isBun) && process.argv.includes(\"--worker-thread\");\nconst isMainThread = !isWorkerThread\n    && (isBun ? Bun.isMainThread : typeof WorkerGlobalScope === \"undefined\");\nconst taskIdCounter = sequence(1, Number.MAX_SAFE_INTEGER, 1, true);\nconst tasks = new Map;\nconst workerIdCounter = sequence(1, Number.MAX_SAFE_INTEGER, 1, true);\nconst workerPools = new Map();\nexport const getConcurrencyNumber = (async () => {\n    if (isNode) {\n        const os = await import(\"os\");\n        if (typeof os.availableParallelism === \"function\") {\n            return os.availableParallelism();\n        }\n        else {\n            return os.cpus().length;\n        }\n    }\n    else if (typeof navigator === \"object\" && navigator.hardwareConcurrency) {\n        return navigator.hardwareConcurrency;\n    }\n    else {\n        return 8;\n    }\n})();\nexport function sanitizeModuleId(id, strict = false) {\n    let _id = \"\";\n    if (typeof id === \"function\") {\n        let str = id.toString();\n        let start = str.lastIndexOf(\"(\");\n        if (start === -1) {\n            throw new TypeError(\"the given script is not a dynamic import expression\");\n        }\n        else {\n            start += 1;\n            const end = str.indexOf(\")\", start);\n            _id = trim(str.slice(start, end), ` '\"\\'`);\n        }\n    }\n    else {\n        _id = id;\n    }\n    if (isNode &&\n        !/\\.[cm]?(js|ts|)x?$/.test(_id) && // omit suffix\n        IsPath.test(_id) // relative or absolute path\n    ) {\n        if (isBun) {\n            _id += \".ts\";\n        }\n        else {\n            _id += \".js\";\n        }\n    }\n    if (!IsPath.test(_id) && !strict) {\n        _id = \"./\" + _id;\n    }\n    return _id;\n}\nexport function createCallRequest(init) {\n    const msg = { ...init, type: init.type || \"call\" };\n    if (!msg.baseUrl) {\n        if (isDeno) {\n            msg.baseUrl = \"file://\" + Deno.cwd() + \"/\";\n        }\n        else if (isNode || isBun) {\n            if (IsPath.test(msg.script)) {\n                // Only set baseUrl for relative modules, don't set it for node modules.\n                msg.baseUrl = \"file://\" + process.cwd() + \"/\";\n            }\n        }\n        else if (typeof location === \"object\") {\n            msg.baseUrl = location.href;\n        }\n    }\n    return msg;\n}\nexport function isCallResponse(msg) {\n    return msg && typeof msg === \"object\" && [\"return\", \"yield\", \"error\", \"gen\"].includes(msg.type);\n}\nexport async function createWorker(options) {\n    var _a;\n    let { entry, adapter, serialization } = options;\n    if (isNode || isBun) {\n        if (!entry) {\n            const path = await import(\"path\");\n            const { fileURLToPath } = await import(\"url\");\n            const _filename = fileURLToPath(import.meta.url);\n            if (_filename === process.argv[1]) {\n                // The code is bundled, try the worker entry in node_modules (hope it exists).\n                if (isBun) {\n                    entry = \"./node_modules/@ayonli/jsext/worker.ts\";\n                }\n                else {\n                    entry = \"./node_modules/@ayonli/jsext/bundle/worker-node.mjs\";\n                }\n            }\n            else {\n                let _dirname = path.dirname(_filename);\n                if ([\n                    path.join(\"jsext\", \"cjs\"),\n                    path.join(\"jsext\", \"esm\"),\n                    path.join(\"jsext\", \"bundle\")\n                ].some(path => _dirname.endsWith(path))) {\n                    // The application imports the compiled version of this module,\n                    // redirect to the root directory of this package.\n                    _dirname = path.dirname(_dirname);\n                }\n                if (isBun) {\n                    entry = path.join(_dirname, \"worker.ts\");\n                }\n                else {\n                    entry = path.join(_dirname, \"bundle\", \"worker-node.mjs\");\n                }\n            }\n        }\n        if (adapter === \"child_process\") {\n            const { fork } = await import(\"child_process\");\n            const worker = fork(entry, [\"--worker-thread\"], {\n                stdio: \"inherit\",\n                serialization,\n            });\n            const workerId = worker.pid;\n            await new Promise((resolve, reject) => {\n                worker.once(\"error\", reject);\n                worker.once(\"message\", () => {\n                    worker.off(\"error\", reject);\n                    resolve();\n                });\n            });\n            return {\n                worker,\n                workerId,\n                kind: \"node_process\",\n            };\n        }\n        else if (isNode) {\n            const { Worker } = await import(\"worker_threads\");\n            const worker = new Worker(entry, { argv: [\"--worker-thread\"] });\n            const workerId = worker.threadId;\n            await new Promise((resolve, reject) => {\n                worker.once(\"error\", reject);\n                worker.once(\"online\", () => {\n                    worker.off(\"error\", reject);\n                    resolve();\n                });\n            });\n            return {\n                worker,\n                workerId,\n                kind: \"node_worker\",\n            };\n        }\n        else { // isBun\n            const worker = new Worker(entry, { type: \"module\" });\n            const workerId = workerIdCounter.next().value;\n            await new Promise((resolve, reject) => {\n                worker.onerror = (ev) => {\n                    reject(new Error(ev.message || \"unable to start the worker\"));\n                };\n                worker.addEventListener(\"open\", () => {\n                    worker.onerror = null;\n                    resolve();\n                });\n            });\n            return {\n                worker,\n                workerId,\n                kind: \"bun_worker\",\n            };\n        }\n    }\n    else { // Deno and browsers\n        if (isDeno) {\n            if (!entry) {\n                if (import.meta[\"main\"]) {\n                    // The code is bundled, try the remote worker entry.\n                    entry = \"https://ayonli.github.io/jsext/bundle/worker.mjs\";\n                }\n                else {\n                    entry = [\n                        ...(import.meta.url.split(\"/\").slice(0, -1)),\n                        \"worker.ts\"\n                    ].join(\"/\");\n                    // The application imports the compiled version of this module,\n                    // redirect to the source worker entry.\n                    if (entry.endsWith(\"/esm/worker.ts\")) {\n                        entry = entry.slice(0, -14) + \"/worker.ts\";\n                    }\n                }\n            }\n        }\n        else {\n            // Use fetch to download the script and compose an object URL can bypass CORS\n            // security constraint in the browser.\n            const url = entry || \"https://ayonli.github.io/jsext/bundle/worker.mjs\";\n            const res = await fetch(url);\n            let blob;\n            if ((_a = res.headers.get(\"content-type\")) === null || _a === void 0 ? void 0 : _a.includes(\"/javascript\")) {\n                blob = await res.blob();\n            }\n            else {\n                const buf = await res.arrayBuffer();\n                blob = new Blob([new Uint8Array(buf)], {\n                    type: \"application/javascript\",\n                });\n            }\n            entry = URL.createObjectURL(blob);\n        }\n        const worker = new Worker(entry, { type: \"module\" });\n        const workerId = workerIdCounter.next().value;\n        return {\n            worker,\n            workerId,\n            kind: \"web_worker\",\n        };\n    }\n}\nasync function acquireWorker(taskId, options) {\n    var _a;\n    const maxWorkers = parallel.maxWorkers || await getConcurrencyNumber;\n    const { adapter, serialization } = options;\n    const poolKey = adapter + \":\" + serialization;\n    const workerPool = (_a = workerPools.get(poolKey)) !== null && _a !== void 0 ? _a : workerPools.set(poolKey, []).get(poolKey);\n    let poolRecord = workerPool.find(item => !item.tasks.size);\n    if (poolRecord) {\n        poolRecord.lastAccess = Date.now();\n    }\n    else if (workerPool.length < maxWorkers) {\n        workerPool.push(poolRecord = {\n            getWorker: (async () => {\n                const { worker } = await createWorker({\n                    entry: parallel.workerEntry,\n                    adapter,\n                    serialization,\n                });\n                const handleMessage = (msg) => {\n                    var _a, _b, _c, _d, _e;\n                    if (isChannelMessage(msg)) {\n                        handleChannelMessage(msg);\n                    }\n                    else if (isCallResponse(msg) && msg.taskId) {\n                        const task = tasks.get(msg.taskId);\n                        if (!task)\n                            return;\n                        if (msg.type === \"return\" || msg.type === \"error\") {\n                            if (msg.type === \"error\") {\n                                const err = ((_a = msg.error) === null || _a === void 0 ? void 0 : _a.constructor) === Object\n                                    ? ((_b = fromObject(msg.error)) !== null && _b !== void 0 ? _b : msg.error)\n                                    : msg.error;\n                                if (task.resolver) {\n                                    task.resolver.reject(err);\n                                    if (task.channel) {\n                                        task.channel.close();\n                                    }\n                                }\n                                else if (task.channel) {\n                                    task.channel.close(err);\n                                }\n                                else {\n                                    task.error = err;\n                                }\n                            }\n                            else {\n                                if (task.resolver) {\n                                    task.resolver.resolve(msg.value);\n                                }\n                                else {\n                                    task.result = { value: msg.value };\n                                }\n                                if (task.channel) {\n                                    task.channel.close();\n                                }\n                            }\n                            if (poolRecord) {\n                                poolRecord.tasks.delete(msg.taskId);\n                                if (!poolRecord.tasks.size) {\n                                    if (isNode || isBun) {\n                                        // Allow the main thread to exit if the event loop is empty.\n                                        worker.unref();\n                                    }\n                                }\n                                { // GC: clean long-time unused workers\n                                    const now = Date.now();\n                                    const idealItems = [];\n                                    // The `workerPool` of this key in the pool map may have been\n                                    // modified by other routines, we need to retrieve the newest\n                                    // value.\n                                    const remainItems = (_c = workerPools.get(poolKey)) === null || _c === void 0 ? void 0 : _c.filter(item => {\n                                        const ideal = !item.tasks.size\n                                            && (now - item.lastAccess) >= 300000;\n                                        if (ideal) {\n                                            idealItems.push(item);\n                                        }\n                                        return !ideal;\n                                    });\n                                    if (remainItems === null || remainItems === void 0 ? void 0 : remainItems.length) {\n                                        workerPools.set(poolKey, remainItems);\n                                    }\n                                    else {\n                                        workerPools.delete(poolKey);\n                                    }\n                                    idealItems.forEach(async (item) => {\n                                        const worker = await item.getWorker;\n                                        if (typeof worker[\"terminate\"] === \"function\") {\n                                            await worker.terminate();\n                                        }\n                                        else {\n                                            worker.kill();\n                                        }\n                                    });\n                                }\n                            }\n                        }\n                        else if (msg.type === \"yield\") {\n                            (_d = task.channel) === null || _d === void 0 ? void 0 : _d.push({ value: msg.value, done: msg.done });\n                            if (msg.done) {\n                                // The final message of yield event is the return value.\n                                handleMessage({\n                                    type: \"return\",\n                                    value: msg.value,\n                                    taskId: msg.taskId,\n                                });\n                            }\n                        }\n                        else if (msg.type === \"gen\") {\n                            (_e = task.generate) === null || _e === void 0 ? void 0 : _e.call(task);\n                        }\n                    }\n                };\n                if (isNode) {\n                    worker.on(\"message\", handleMessage);\n                }\n                else if (isBun) {\n                    if (adapter === \"child_process\") {\n                        worker.on(\"message\", handleMessage);\n                    }\n                    else {\n                        worker.onmessage = (ev) => handleMessage(ev.data);\n                    }\n                }\n                else {\n                    worker.onmessage = (ev) => handleMessage(ev.data);\n                }\n                return worker;\n            })(),\n            adapter,\n            serialization,\n            tasks: new Set(),\n            lastAccess: Date.now(),\n        });\n    }\n    else {\n        poolRecord = workerPool[taskId % workerPool.length];\n        poolRecord.lastAccess = Date.now();\n    }\n    poolRecord.tasks.add(taskId);\n    const worker = await poolRecord.getWorker;\n    if (isNode || isBun) {\n        // Prevent premature exit in the main thread.\n        worker.ref();\n    }\n    return worker;\n}\nexport function wrapArgs(args, getWorker) {\n    const transferable = [];\n    args = args.map(arg => {\n        if (!arg || typeof arg !== \"object\" || Array.isArray(arg)) {\n            return arg;\n        }\n        else if (arg instanceof Channel) {\n            return wrapChannel(arg, (type, msg, channelId) => {\n                getWorker.then(worker => {\n                    if (typeof worker[\"postMessage\"] === \"function\") {\n                        worker.postMessage({\n                            type,\n                            value: msg,\n                            channelId,\n                        });\n                    }\n                    else {\n                        worker.send({\n                            type,\n                            value: msg,\n                            channelId,\n                        });\n                    }\n                });\n            });\n        }\n        else if (arg[shouldTransfer]) {\n            transferable.push(arg);\n            return arg;\n        }\n        else {\n            return arg;\n        }\n    });\n    return { args, transferable };\n}\nfunction createRemoteCall(modId, fn, args, baseUrl = undefined, options) {\n    const taskId = taskIdCounter.next().value;\n    tasks.set(taskId, {});\n    let getWorker = acquireWorker(taskId, options);\n    const { args: _args, transferable } = wrapArgs(args, getWorker);\n    getWorker = getWorker.then((worker) => {\n        const req = createCallRequest({\n            script: modId,\n            fn,\n            args: _args,\n            taskId,\n            baseUrl: baseUrl\n        });\n        if (typeof worker[\"postMessage\"] === \"function\") {\n            worker.postMessage(req, transferable);\n        }\n        else {\n            worker.send(req);\n        }\n        return worker;\n    });\n    return new ThenableAsyncGenerator({\n        then(onfulfilled, onrejected) {\n            const task = tasks.get(taskId);\n            if (task.error) {\n                tasks.delete(taskId);\n                return onrejected === null || onrejected === void 0 ? void 0 : onrejected(task.error);\n            }\n            else if (task.result) {\n                tasks.delete(taskId);\n                return onfulfilled === null || onfulfilled === void 0 ? void 0 : onfulfilled(task.result.value);\n            }\n            else {\n                return new Promise((resolve, reject) => {\n                    task.resolver = {\n                        resolve: (value) => {\n                            tasks.delete(taskId);\n                            resolve(value);\n                        },\n                        reject: (err) => {\n                            tasks.delete(taskId);\n                            reject(err);\n                        }\n                    };\n                }).then(onfulfilled, onrejected);\n            }\n        },\n        async next(input) {\n            var _a;\n            const task = tasks.get(taskId);\n            if (task.error) {\n                const err = task.error;\n                tasks.delete(taskId);\n                throw err;\n            }\n            else if (task.result) {\n                const value = task.result.value;\n                tasks.delete(taskId);\n                return { value, done: true };\n            }\n            else {\n                (_a = task.channel) !== null && _a !== void 0 ? _a : (task.channel = chan(Infinity));\n                const worker = await getWorker;\n                if (!task.generate) {\n                    await new Promise(resolve => {\n                        task.generate = resolve;\n                    });\n                }\n                const { args, transferable } = wrapArgs([input], getWorker);\n                const req = createCallRequest({\n                    script: modId,\n                    fn,\n                    args: args,\n                    taskId,\n                    type: \"next\",\n                    baseUrl: baseUrl,\n                });\n                if (typeof worker[\"postMessage\"] === \"function\") {\n                    worker.postMessage(req, transferable);\n                }\n                else {\n                    worker.send(req);\n                }\n                return await task.channel.pop();\n            }\n        },\n        async return(value) {\n            tasks.delete(taskId);\n            const worker = await getWorker;\n            const { args, transferable } = wrapArgs([value], getWorker);\n            const req = createCallRequest({\n                script: modId,\n                fn,\n                args: args,\n                taskId,\n                type: \"return\",\n                baseUrl: baseUrl,\n            });\n            if (typeof worker[\"postMessage\"] === \"function\") {\n                worker.postMessage(req, transferable);\n            }\n            else {\n                worker.send(req);\n            }\n            return { value, done: true };\n        },\n        async throw(err) {\n            tasks.delete(taskId);\n            const worker = await getWorker;\n            const req = createCallRequest({\n                script: modId,\n                fn,\n                args: [err],\n                taskId,\n                type: \"throw\",\n                baseUrl: baseUrl,\n            });\n            if (typeof worker[\"postMessage\"] === \"function\") {\n                worker.postMessage(req);\n            }\n            else {\n                worker.send(req);\n            }\n            throw err;\n        },\n    });\n}\nfunction createLocalCall(modId, fn, args, baseUrl = undefined) {\n    const getReturns = resolveModule(modId, baseUrl).then(module => {\n        return module[fn](...args);\n    });\n    return new ThenableAsyncGenerator({\n        then(onfulfilled, onrejected) {\n            return getReturns.then(onfulfilled, onrejected);\n        },\n        async next(input) {\n            const gen = await getReturns;\n            return await gen.next(input);\n        },\n        async return(value) {\n            const gen = await getReturns;\n            return await gen.return(value);\n        },\n        async throw(err) {\n            const gen = await getReturns;\n            return gen.throw(err);\n        },\n    });\n}\nfunction extractBaseUrl(stackTrace) {\n    var _a, _b, _c;\n    const lines = stackTrace.split(\"\\n\");\n    let callSite;\n    if ((_a = lines[0]) === null || _a === void 0 ? void 0 : _a.startsWith(\"Error\")) { // chromium browsers\n        callSite = lines[2];\n    }\n    else {\n        callSite = lines[1];\n    }\n    let baseUrl;\n    if (callSite) {\n        let start = callSite.lastIndexOf(\"(\");\n        let end = 0;\n        if (start !== -1) {\n            start += 1;\n            end = callSite.indexOf(\")\", start);\n            callSite = callSite.slice(start, end);\n        }\n        else if (callSite.startsWith(\"    at \")) {\n            callSite = callSite.slice(7); // remove leading `    at `\n        }\n        else if (typeof location === \"object\") { // general browsers\n            start = (_c = (_b = callSite.match(/(https?|file):/)) === null || _b === void 0 ? void 0 : _b.index) !== null && _c !== void 0 ? _c : -1;\n            if (start > 0) {\n                callSite = callSite.slice(start);\n            }\n        }\n        baseUrl = callSite.replace(/:\\d+:\\d+$/, \"\");\n        if (!/^(https?|file):/.test(baseUrl)) {\n            baseUrl = \"file://\" + baseUrl;\n        }\n    }\n    return baseUrl;\n}\n/**\n * Wraps a module and run its functions in worker threads.\n *\n * In Node.js and Bun, the `module` can be either an ES module or a CommonJS module,\n * **node_modules** and built-in modules are also supported.\n *\n * In browsers and Deno, the `module` can only be an ES module.\n *\n * In Bun and Deno, the `module` can also be a TypeScript file.\n *\n * Data are cloned and transferred between threads via **Structured Clone Algorithm** (by default).\n *\n * Apart from the standard data types supported by the algorithm, {@link Channel} can also be\n * used to transfer data between threads. To do so, just passed a channel instance to the threaded\n * function.\n *\n * But be aware, channel can only be used as a parameter, return a channel from the threaded\n * function is not allowed. And the channel can only be used for one threaded function at a time,\n * once passed, the data can only be transferred into and out-from the function.\n *\n * The difference between using channel and generator function for streaming processing is, for a\n * generator function, `next(value)` is coupled with a `yield value`, the process is blocked\n * between **next** calls, channel doesn't have this limit, we can use it to stream all the data\n * into the function before processing and receiving any result.\n *\n * @example\n * ```ts\n * const mod = parallel(() => import(\"./examples/worker.mjs\"));\n * console.log(await mod.greet(\"World\")); // Hi, World\n * ```\n *\n * @example\n * ```ts\n * const mod = parallel(() => import(\"./examples/worker.mjs\"));\n *\n * for await (const word of mod.sequence([\"foo\", \"bar\"])) {\n *     console.log(word);\n * }\n * // output:\n * // foo\n * // bar\n * ```\n *\n * @example\n * ```ts\n * const mod = parallel(() => import(\"./examples/worker.mjs\"));\n *\n * const channel = chan<number>();\n * const length = mod.twoTimesValues(channel);\n *\n * for (const value of Number.sequence(0, 9)) {\n *     await channel.push({ value, done: value === 9 });\n * }\n *\n * const results = (await readAll(channel)).map(item => item.value);\n * console.log(results);\n * console.log(await length);\n * // output:\n * // [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]\n * // 10\n * ```\n */\nfunction parallel(module, options = {}) {\n    const adapter = (options === null || options === void 0 ? void 0 : options.adapter) || \"worker_threads\";\n    const serialization = adapter === \"worker_threads\"\n        ? \"advanced\"\n        : ((options === null || options === void 0 ? void 0 : options.serialization) || (isBeforeNode14 ? \"json\" : \"advanced\"));\n    const modId = sanitizeModuleId(module, true);\n    let baseUrl;\n    if (IsPath.test(modId)) {\n        if (typeof Error.captureStackTrace === \"function\") {\n            const trace = {};\n            Error.captureStackTrace(trace);\n            baseUrl = extractBaseUrl(trace.stack);\n        }\n        else {\n            const trace = new Error(\"\");\n            baseUrl = extractBaseUrl(trace.stack);\n        }\n    }\n    return new Proxy({\n        [terminate]: async () => {\n            const poolKey = adapter + \":\" + serialization;\n            const workerPool = workerPools.get(poolKey);\n            if (workerPool) {\n                workerPools.delete(poolKey);\n                for (const { getWorker } of workerPool) {\n                    const worker = await getWorker;\n                    if (typeof worker[\"terminate\"] === \"function\") {\n                        await worker.terminate();\n                    }\n                    else {\n                        worker.kill();\n                    }\n                }\n            }\n        },\n    }, {\n        get: (target, prop) => {\n            if (Reflect.has(target, prop)) {\n                return target[prop];\n            }\n            else if (typeof prop === \"symbol\") {\n                return undefined;\n            }\n            const obj = {\n                // This syntax will give our remote function a name.\n                [prop]: (...args) => {\n                    if (isMainThread) {\n                        return createRemoteCall(modId, prop, args, baseUrl, {\n                            adapter,\n                            serialization,\n                        });\n                    }\n                    else {\n                        return createLocalCall(modId, prop, args, baseUrl);\n                    }\n                }\n            };\n            return obj[prop];\n        }\n    });\n}\n(function (parallel) {\n    /**\n     * The maximum number of workers allowed to exist at the same time. If not set, the program\n     * by default uses CPU core numbers as the limit.\n     */\n    parallel.maxWorkers = undefined;\n    /**\n     * In browsers, by default, the program loads the worker entry directly from GitHub,\n     * which could be slow due to poor internet connection, we can copy the entry file\n     * `bundle/worker.mjs` to a local path of our website and set this option to that path\n     * so that it can be loaded locally.\n     *\n     * Or, if the code is bundled, the program won't be able to automatically locate the entry\n     * file in the file system, in such case, we can also copy the entry file\n     * (`bundle/worker.mjs` for Bun, Deno and the browser, `bundle/worker-node.mjs` for Node.js)\n     * to a local directory and supply this option instead.\n     */\n    parallel.workerEntry = undefined;\n    /**\n     * Marks the given data to be transferred instead of cloned to the worker thread.\n     * Once transferred, the data is no longer available on the sending end.\n     *\n     * Currently, only `ArrayBuffer` is guaranteed to be transferable across all supported\n     * JavaScript runtimes.\n     *\n     * Be aware, the transferable object can only be used as a parameter and only works with\n     * `worker_threads` adapter, return a transferable object from the threaded function is\n     * not supported at the moment and will always be cloned.\n     *\n     * NOTE: always prefer channel for transferring large amount of data in streaming fashion\n     * than sending them as transferrable objects, it consumes less memory and does not transfer\n     * the ownership of the data, and supports `child_process` adapter as well.\n     *\n     * @example\n     * ```ts\n     * const mod = parallel(() => import(\"./examples/worker.mjs\"));\n     *\n     * const arr = Uint8Array.from([0, 1, 2]);\n     * const length = await mod.transfer(parallel.transfer(arr.buffer));\n     *\n     * console.assert(length === 3);\n     * console.assert(arr.byteLength === 0);\n     * ```\n     */\n    function transfer(data) {\n        // @ts-ignore\n        data[shouldTransfer] = true;\n        return data;\n    }\n    parallel.transfer = transfer;\n})(parallel || (parallel = {}));\nexport default parallel;\n//# sourceMappingURL=parallel.js.map"],"names":[],"mappings":"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"}